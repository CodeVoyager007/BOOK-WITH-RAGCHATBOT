"use strict";(globalThis.webpackChunksentient_machines_handbook=globalThis.webpackChunksentient_machines_handbook||[]).push([[176],{5225:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>g,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"ros2/debugging","title":"ROS 2 Debugging: Using RQT and Rosbags","description":"Debugging distributed, real-time systems like those built with ROS 2 can be challenging. Fortunately, ROS 2 provides powerful tools that help visualize, inspect, and record data, making the debugging process significantly more manageable. This chapter introduces two indispensable tools: RQT for real-time introspection and Rosbags for offline data analysis.","source":"@site/docs/02-ros2/06-debugging.md","sourceDirName":"02-ros2","slug":"/ros2/debugging","permalink":"/BOOK-WITH-RAGCHATBOT/docs/ros2/debugging","draft":false,"unlisted":false,"editUrl":"https://github.com/CodeVoyager007/BOOK-WITH-RAGCHATBOT/tree/main/book/docs/02-ros2/06-debugging.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"title":"ROS 2 Debugging: Using RQT and Rosbags","sidebar_label":"Debugging"},"sidebar":"tutorialSidebar","previous":{"title":"Launch Systems","permalink":"/BOOK-WITH-RAGCHATBOT/docs/ros2/launch-systems"},"next":{"title":"Digital Twins (Simulation)","permalink":"/BOOK-WITH-RAGCHATBOT/docs/category/simulation"}}');var o=s(4848),r=s(8453);const t={title:"ROS 2 Debugging: Using RQT and Rosbags",sidebar_label:"Debugging"},a="ROS 2 Debugging: Using RQT and Rosbags",l={},c=[{value:"RQT: The ROS 2 GUI Toolkit",id:"rqt-the-ros-2-gui-toolkit",level:2},{value:"Essential RQT Plugins for Debugging:",id:"essential-rqt-plugins-for-debugging",level:3},{value:"Rosbags: Recording and Playback",id:"rosbags-recording-and-playback",level:2},{value:"Recording a Rosbag",id:"recording-a-rosbag",level:3},{value:"Playing back a Rosbag",id:"playing-back-a-rosbag",level:3},{value:"Inspecting a Rosbag",id:"inspecting-a-rosbag",level:3},{value:"Leveraging Debugging Tools",id:"leveraging-debugging-tools",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"ros-2-debugging-using-rqt-and-rosbags",children:"ROS 2 Debugging: Using RQT and Rosbags"})}),"\n",(0,o.jsxs)(n.p,{children:["Debugging distributed, real-time systems like those built with ROS 2 can be challenging. Fortunately, ROS 2 provides powerful tools that help visualize, inspect, and record data, making the debugging process significantly more manageable. This chapter introduces two indispensable tools: ",(0,o.jsx)(n.strong,{children:"RQT"})," for real-time introspection and ",(0,o.jsx)(n.strong,{children:"Rosbags"})," for offline data analysis."]}),"\n",(0,o.jsx)(n.h2,{id:"rqt-the-ros-2-gui-toolkit",children:"RQT: The ROS 2 GUI Toolkit"}),"\n",(0,o.jsx)(n.p,{children:"RQT is a suite of graphical user interface (GUI) tools that allow you to introspect and interact with a running ROS 2 system. It's a modular framework, meaning you can open various RQT plugins (like plotters, topic monitors, configuration tools) within a single RQT window."}),"\n",(0,o.jsx)(n.p,{children:"To launch RQT:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ros2 run rqt_gui rqt_gui\n"})}),"\n",(0,o.jsx)(n.h3,{id:"essential-rqt-plugins-for-debugging",children:"Essential RQT Plugins for Debugging:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsxs)(n.strong,{children:[(0,o.jsx)(n.code,{children:"rqt_graph"})," (Node Graph)"]}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Purpose"}),": Visualizes the ROS 2 computation graph, showing nodes and the topics, services, and actions connecting them. This is often the first tool to check if you suspect communication issues."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Usage"}),": From RQT, select ",(0,o.jsx)(n.code,{children:"Plugins > Introspection > Node Graph"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Debugging Insight"}),": Helps identify if nodes are starting correctly, if topics are being published and subscribed to, and if there are any unexpected connections."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsxs)(n.strong,{children:[(0,o.jsx)(n.code,{children:"rqt_console"})," (Log Viewer)"]}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Purpose"}),": Displays log messages (DEBUG, INFO, WARN, ERROR, FATAL) from all ROS 2 nodes in a central location. You can filter messages by node name, topic, severity, etc."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Usage"}),": From RQT, select ",(0,o.jsx)(n.code,{children:"Plugins > Utilities > Console"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Debugging Insight"}),": Essential for monitoring node behavior and quickly spotting errors or warnings as they occur."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsxs)(n.strong,{children:[(0,o.jsx)(n.code,{children:"rqt_topic"})," (Topic Monitor)"]}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Purpose"}),": Allows you to inspect the data flowing on any topic in real-time. You can view the message rate, bandwidth, and the actual content of messages."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Usage"}),": From RQT, select ",(0,o.jsx)(n.code,{children:"Plugins > Topics > Topic Monitor"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Debugging Insight"}),": Confirming that publishers are sending the correct data and subscribers are receiving it as expected. You can even publish messages manually to topics for testing."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsxs)(n.strong,{children:[(0,o.jsx)(n.code,{children:"rqt_plot"})," (Data Plotter)"]}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Purpose"}),": Plots numerical data from topics over time. This is invaluable for visualizing sensor readings, motor commands, or controller outputs."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Usage"}),": From RQT, select ",(0,o.jsx)(n.code,{children:"Plugins > Visualization > Plot"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Debugging Insight"}),": Quickly see trends, oscillations, or unexpected spikes in your robot's behavior."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsxs)(n.strong,{children:[(0,o.jsx)(n.code,{children:"rqt_param"})," (Parameter Editor)"]}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Purpose"}),": View and modify ROS 2 node parameters dynamically."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Usage"}),": From RQT, select ",(0,o.jsx)(n.code,{children:"Plugins > Configuration > Dynamic Reconfigure"}),". (Note: This is an older plugin name, direct parameter interaction is often through ",(0,o.jsx)(n.code,{children:"ros2 param"})," CLI tools)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Debugging Insight"}),": Adjusting controller gains or sensor thresholds on-the-fly without restarting nodes."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"rosbags-recording-and-playback",children:"Rosbags: Recording and Playback"}),"\n",(0,o.jsx)(n.p,{children:"Rosbags are files used to record data published on ROS 2 topics. This recorded data can then be played back later, allowing you to re-analyze robot behavior offline, develop algorithms without requiring the physical robot, and debug issues that are difficult to reproduce in real-time."}),"\n",(0,o.jsx)(n.h3,{id:"recording-a-rosbag",children:"Recording a Rosbag"}),"\n",(0,o.jsx)(n.p,{children:"To record all topics (or a subset of topics) to a file:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ros2 bag record -a -o my_robot_run # -a for all topics, -o for output directory\n"})}),"\n",(0,o.jsxs)(n.p,{children:["This will create a directory (e.g., ",(0,o.jsx)(n.code,{children:"my_robot_run/"}),") containing your bag file (e.g., ",(0,o.jsx)(n.code,{children:"my_robot_run_0.db"}),")."]}),"\n",(0,o.jsx)(n.h3,{id:"playing-back-a-rosbag",children:"Playing back a Rosbag"}),"\n",(0,o.jsx)(n.p,{children:"To play back a recorded bag file:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ros2 bag play my_robot_run/my_robot_run_0.db\n"})}),"\n",(0,o.jsxs)(n.p,{children:["When a bag is played back, it republishes all recorded messages on their original topics. This means you can launch your analysis nodes (e.g., your ",(0,o.jsx)(n.code,{children:"rqt_plot"})," or your custom debugging scripts) and they will receive the data as if it were coming from a live robot."]}),"\n",(0,o.jsx)(n.h3,{id:"inspecting-a-rosbag",children:"Inspecting a Rosbag"}),"\n",(0,o.jsx)(n.p,{children:"You can inspect the contents of a bag file without playing it back:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ros2 bag info my_robot_run/my_robot_run_0.db\n# Shows topics, message types, message count, duration, etc.\n\nros2 bag contents my_robot_run/my_robot_run_0.db\n# Shows all messages in chronological order (can be very long!)\n"})}),"\n",(0,o.jsx)(n.h2,{id:"leveraging-debugging-tools",children:"Leveraging Debugging Tools"}),"\n",(0,o.jsx)(n.p,{children:"Effective use of RQT and Rosbags transforms the debugging of complex robotic systems from a trial-and-error nightmare into a systematic, observable process. They allow you to:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Reproduce Bugs"}),": Use rosbags to re-run scenarios where a bug occurred."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Analyze Post-Mortem"}),": Inspect logs and data after a robot failure."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Develop Offline"}),": Work on perception or control algorithms using recorded data, reducing reliance on expensive hardware."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"These tools are your eyes and ears into the distributed mind of your robot, indispensable for any serious robotics development."})]})}function g(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>a});var i=s(6540);const o={},r=i.createContext(o);function t(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);